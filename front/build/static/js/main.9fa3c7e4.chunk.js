(this.webpackJsonpbusqueda=this.webpackJsonpbusqueda||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(2),a=n.n(s),r=n(22),i=n.n(r),l=(n(33),n.p,n(34),n(5)),o=n.n(l),u=n(10),j=n(8);n(36);var d=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(""),i=Object(j.a)(r,2),l=i[0],d=i[1],b=Object(s.useState)([]),h=Object(j.a)(b,2),p=h[0],x=h[1],m=Object(s.useState)([]),O=Object(j.a)(m,2),f=O[0],v=O[1],g=Object(s.useState)([]),w=Object(j.a)(g,2),y=w[0],N=w[1],k=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,s,r,i,l,u,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=6;break}return N([]),x([]),a([]),e.abrupt("return");case 6:return e.next=8,fetch("http://localhost:8983/solr/briwtest/spell?q="+t);case 8:return c=e.sent,e.next=11,c.json();case 11:return s=e.sent,console.log(s),s.spellcheck?N(s.spellcheck.suggestions.length?s.spellcheck.suggestions[1].suggestion:[]):N([]),e.next=16,fetch("https://api.datamuse.com/words?ml="+t+"&v=es&max=10");case 16:return r=e.sent,e.next=19,r.json();case 19:for(i=e.sent,x(i||[]),l=t,u=0;u<i.length;u++)l=l+" OR "+i[u].word;return console.log(l||[]),e.next=26,fetch("http://localhost:8983/solr/briwtest/select?rows=100&fl=*%2Cscore&q="+l);case 26:return n=e.sent,e.next=29,n.json();case 29:j=e.sent,console.log(j.response.docs),a(j.response.docs),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(0),console.log(e.t0);case 37:case"end":return e.stop()}}),e,null,[[0,34]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)(Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8983/solr/briwtest/suggest?suggest=true&suggest.build=true&suggest.dictionary=default&wt=json&suggest.q="+l);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,console.log(l),console.log(n.suggest.default[l].suggestions),v(n.suggest.default[l].suggestions),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),[l]),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"container mt-5",children:Object(c.jsx)("h1",{className:"animate__animated animate__bounceInLeft animate__delay-.5s text-center",children:"BRIW"})}),Object(c.jsx)("div",{className:"container mt-5 mx-auto",style:{width:"800px"},children:Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("form",{className:"d-flex",onSubmit:function(e){e.preventDefault(),k(l)},children:[Object(c.jsx)("input",{className:"form-control ",list:"datalistOptions",type:"search",placeholder:"Search","aria-label":"Search",value:l,onChange:function(e){d(e.target.value)}}),Object(c.jsx)("datalist",{id:"datalistOptions",children:f.map((function(e){return Object(c.jsx)("option",{value:e.term})}))}),Object(c.jsx)("button",{className:"btn btn-outline-primary",type:"submit",children:"Search"})]})})}),Object(c.jsx)("div",{className:"container mt-2",style:{width:"700px"},children:p.map((function(e,t){return Object(c.jsx)("a",{href:"#",className:"btn btn-secondary btn-sm disabled mt-1 ml-2",role:"button","aria-disabled":"true",children:e.word},t)}))}),Object(c.jsx)("div",{className:"container mt-2",style:{width:"700px"},children:y.length?Object(c.jsx)("div",{className:"card",children:Object(c.jsxs)("div",{className:"card-body",children:["Quz\xe1s quisiste decir: ",y.map((function(e){return e.word+" "}))]})}):""}),n.length?Object(c.jsx)("div",{className:"container mt-2",style:{width:"700px"},children:Object(c.jsx)("h3",{className:"animate__animated animate__bounceInLeft animate__delay-.1s",children:"Resultados"})}):"",n.map((function(e){return Object(c.jsx)("div",{className:"container-sm mt-2 mx-auto",style:{width:"700px"},children:Object(c.jsx)("div",{className:"list-group",children:Object(c.jsxs)("a",{href:e.link,className:"list-group-item list-group-item-action ","aria-current":"true",children:[Object(c.jsx)("div",{className:"d-flex w-100 justify-content-between",children:Object(c.jsx)("h5",{className:"mb-1",children:e.titulo_es[0]})}),Object(c.jsx)("p",{className:"mb-1",children:e.snippet[0]}),Object(c.jsxs)("small",{children:["score: ",e.score]})]})})},e.id)}))]})},b=n(20),h=n(23),p=n(26),x=n(24),m=n(25);var O=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!1),i=Object(j.a)(r,2),l=i[0],d=i[1],O=Object(s.useState)(""),f=Object(j.a)(O,2),v=f[0],g=f[1],w=Object(s.useState)(!1),y=Object(j.a)(w,2),N=y[0],k=y[1],_=Object(s.useState)(""),S=Object(j.a)(_,2);S[0],S[1],Object(s.useEffect)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:t=e.sent,a(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);var C=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost/crawler/links/links.php");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("http://localhost/crawler/links/saveLinks.php",{method:"POST",body:JSON.stringify({links:t}),headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,console.log(c),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(o.a.mark((function e(t){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(b.a)(n),console.log(t),c.splice(t,1),e.next=5,L(c);case 5:return e.next=7,C();case 7:s=e.sent,a(s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(o.a.mark((function e(t){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=Object(b.a)(n)).push(v),e.next=4,L(c);case 4:return e.next=6,C();case 6:s=e.sent,a(s),g("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,fetch("http://localhost/crawler/executeCrawler.php");case 4:return n=e.sent,e.next=7,n.json();case 7:t=e.sent,console.log(t),k(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),k(!1),console.log(e.t0);case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"container mt-5",children:[Object(c.jsx)("h1",{className:"animate__animated animate__bounceInLeft animate__delay-.5s text-center",children:"Crawler"}),Object(c.jsx)("div",{className:"container mt-5 mx-auto",style:{width:"800px"},children:Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("h5",{className:"card-tittle mx-auto",children:"Lista de links"}),Object(c.jsxs)("div",{className:"Card-body p-3",children:[Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"#"}),Object(c.jsx)("th",{scope:"col",children:"Link"}),Object(c.jsx)("th",{scope:"col",children:"Delete"})]})}),n.map((function(e,t){return Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{style:{verticalAlign:"middle"},scope:"row",children:t}),Object(c.jsx)("td",{style:{verticalAlign:"middle"},children:e}),Object(c.jsx)("td",{style:{verticalAlign:"middle",textAlign:"center"},children:Object(c.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return A(t)},children:Object(c.jsx)(h.a,{})})})]})},t)}))]}),l?Object(c.jsxs)("div",{className:"input-group mb-3",children:[Object(c.jsx)("input",{type:"text",className:"form-control",placeholder:"New Link",value:v,onChange:function(e){g(e.target.value)}}),Object(c.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){q()},children:Object(c.jsx)(x.a,{})}),Object(c.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){d(!1)},children:Object(c.jsx)(m.a,{})})]}):"",Object(c.jsx)("div",{style:{margin:"auto",textAlign:"center"},children:Object(c.jsx)("button",{onClick:function(){d(!0)},className:"btn btn-outline-secondary",type:"button",style:{minWidth:"500px",width:"100%"},children:Object(c.jsx)(p.a,{style:{minWidth:"500px",width:"100%"}})})}),Object(c.jsx)("div",{className:"mt-5",style:{margin:"auto",textAlign:"center"},children:Object(c.jsx)("button",{onClick:function(){return I()},className:"btn btn-outline-secondary animate__animated animate__bounce animate__repeat-2",type:"button",style:{minWidth:"500px",width:"100%"},children:"Start Crawler"})}),N?Object(c.jsx)("div",{className:"d-flex justify-content-center mt-3",children:Object(c.jsx)("div",{className:"spinner-border",role:"status"})}):""]})]})})]})};var f=function(){return Object(c.jsxs)("ul",{className:"nav justify-content-end",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{className:"nav-link active",href:"/",children:"buscador"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)("a",{className:"nav-link",href:"/crawler",children:"crawler"})})]})},v=n(17),g=n(3);var w=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(f,{}),Object(c.jsx)(v.a,{children:Object(c.jsxs)(g.c,{children:[Object(c.jsx)(g.a,{path:"/",exact:!0,component:d}),Object(c.jsx)(g.a,{path:"/crawler",exact:!0,component:O})]})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};n(42);i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),y()}},[[43,1,2]]]);
//# sourceMappingURL=main.9fa3c7e4.chunk.js.map